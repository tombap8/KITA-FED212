<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolling Gallery</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            /* 보이는 화면 기준 채우기! */
        }

        body {
            background: url(./images/space.jpg) no-repeat center/auto 200%;
        }

        /* 공통 */
        a {
            color: #000;
            text-decoration: none;
        }

        /* 갤러리부모박스 */
        #wrap {
            width: 520px;
            margin: 0 auto;
            text-align: center;
            padding-top: 20px;
            /* outline: 2px dotted red; */
        }

        /* 메인이미지박스 */
        #mbox {
            display: inline-block;
            /* 한줄에 오도록 변경 */
        }

        #mbox img {
            vertical-align: -79px;
        }
    </style>

    <!-- JS 코딩구역 -->
    <script>
        //////////////// 로드구역 ////////////
        window.addEventListener("load", () => {

            console.log("로드완료!");

            // 0. 대상선정
            // 버튼대상: .btn
            let btn = document.querySelectorAll(".btn");
            // console.log("버튼개수:"+btn.length);
            // 중앙이미지: #mbox img
            let mimg = document.querySelector("#mbox img");
            // console.log("이미지설명:"+mimg.alt);

            // 이미지번호 전역변수
            let inum = 1;

            // 1. 오른쪽버튼 클릭시 다음 이미지변경하기
            // btn[1] -> 두번째 순번 버튼 - 오른쪽버튼
            btn[1].onclick = () => chgImg(1); 
            // 이미지 변경함수 호출시 전달값 1을 보냄

            // 2. 왼쪽버튼 클릭시 이전 이미지변경하기
            // btn[0] -> 첫번째 순번 버튼 - 왼쪽버튼
            btn[0].onclick = () => chgImg(0);
            // 이미지 변경함수 호출시 전달값 0을 보냄

            /************************************ 
                함수명: chgImg
                기능: 이미지 및 이미지설명 변경
            ************************************/
            const chgImg = (dir) => { // dir - 방향전달값변수
                
                // 1. 함수호출확인
                console.log("이미지바꿔!!"+dir);


                // 2. 대상선정: #mbox img -> mimg 변수

                // 3. 변경내용: 이전/다음 이미지로 변경함
                if (dir) { /// 오른쪽버튼 : 다음이미지
                    // dir이 1일 경우 true와 같음!

                    // -> 이미지번호를 1씩증가함!
                    inum++;
                    // -> 이미지 한계수 체크
                    if (inum === 8) inum = 1; 
                    // 첫이미지로!

                } ////// if ///////
                else { /// 왼쪽버튼 : 이전이미지

                    // -> 이미지번호를 1씩감소함!
                    inum--;
                    // -> 이미지 한계수 체크
                    if (inum === 0) inum = 7; 
                    // 마지막이미지로!

                } ////// else if /////

                console.log("이미지번호:" + inum);

                // 4. 이미지 변경하기
                mimg.src = `./images/img${inum}.jpg`;

            }; //////////// chgImg 함수 /////////////
            ///////////////////////////////////////// 


        }); //////// 로드구역 /////////////////
        ///////////////////////////////////////
    </script>
</head>

<body>
    <div id="wrap">
        <!-- 타이틀 -->
        <h1>Rolling Gallery</h1>
        <!-- 왼쪽이동버튼 -->
        <a href="#" class="btn lb">
            <img src="./images/left_btn.png" alt="왼쪽버튼">
        </a>
        <!-- 메인이미지박스 -->
        <div id="mbox">
            <img src="./images/img1.jpg" alt="메인이미지">
        </div>
        <!-- 오른쪽이동버튼 -->
        <a href="#" class="btn rb">
            <img src="./images/right_btn.png" alt="오른쪽버튼">
        </a>
    </div>
</body>

</html>